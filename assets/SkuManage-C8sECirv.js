import{I as h,d as K,r as f,D as P,g as o,o as _,n as v,w as t,b as e,h as p,m as N,J as b,j as u,v as y,c as C,F as z,s as I,K as S,p as G,k as O,_ as Q}from"./index-r54z97pg.js";const W=(l,i)=>h.get(`/admin/product/list/${l}/${i}`),X=l=>h.get("/admin/product/onSale/"+l),Y=l=>h.get("/admin/product/cancelSale/"+l),Z=l=>h.get("/admin/product/getSkuInfo/"+l),ee=l=>h.delete("/admin/product/deleteSku/"+l),te=l=>(G("data-v-c1335b77"),l=l(),O(),l),ae=["src"],le=te(()=>N("h4",null,"查看商品的详情",-1)),se=["src"],ne=K({name:"SkuManage",__name:"SkuManage",setup(l){let i=f(1),k=f(10),V=f(0),q=f([]),x=f(!1),c=f({});P(()=>{m()});const m=async()=>{let s=await W(i.value,k.value);s.code==200&&(V.value=s.data.total,q.value=s.data.records)},L=()=>{m()},M=async s=>{s.isSale==1?(await Y(s.id),S({type:"success",message:"下架成功"}),m()):(await X(s.id),S({type:"success",message:"上架成功"}),m())},A=()=>{S({type:"success",message:"程序员在努力的更新中...."})},U=async s=>{x.value=!0;let r=await Z(s.id);c.value=r.data},E=async s=>{(await ee(s)).code==200?(S({type:"success",message:"删除成功"}),m()):S({type:"error",message:"系统数据不能删除"})};return(s,r)=>{const d=o("el-table-column"),w=o("el-button"),F=o("el-popconfirm"),$=o("el-table"),j=o("el-pagination"),n=o("el-col"),g=o("el-row"),D=o("el-tag"),R=o("el-carousel-item"),T=o("el-carousel"),H=o("el-drawer"),J=o("el-card");return _(),v(J,null,{default:t(()=>[e($,{border:"",style:{margin:"10px 0px"},data:p(q)},{default:t(()=>[e(d,{label:"序号",type:"index",align:"center",width:"80px"}),e(d,{label:"名称","show-overflow-tooltip":"",width:"150px",prop:"skuName"}),e(d,{label:"描述","show-overflow-tooltip":"",width:"150px",prop:"skuDesc"}),e(d,{label:"图片",width:"150px"},{default:t(({row:a})=>[N("img",{src:a.skuDefaultImg,alt:"",style:{width:"100px",height:"100px"}},null,8,ae)]),_:1}),e(d,{label:"重量",width:"150px",prop:"weight"}),e(d,{label:"价格",width:"150px",prop:"price"}),e(d,{label:"操作",width:"250px",fixed:"right"},{default:t(({row:a})=>[e(w,{type:"primary",size:"small",icon:a.isSale==1?"Bottom":"Top",onClick:B=>M(a)},null,8,["icon","onClick"]),e(w,{type:"primary",size:"small",icon:"Edit",onClick:A}),e(w,{type:"primary",size:"small",icon:"InfoFilled",onClick:B=>U(a)},null,8,["onClick"]),e(F,{title:`你确定要删除${a.skuName}?`,width:"200px",onConfirm:B=>E(a.id)},{reference:t(()=>[e(w,{type:"primary",size:"small",icon:"Delete"})]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"]),e(j,{"current-page":p(i),"onUpdate:currentPage":r[0]||(r[0]=a=>b(i)?i.value=a:i=a),"page-size":p(k),"onUpdate:pageSize":r[1]||(r[1]=a=>b(k)?k.value=a:k=a),"page-sizes":[10,20,30,40],background:!0,layout:"prev, pager, next, jumper,->,sizes,total",total:p(V),onCurrentChange:m,onSizeChange:L},null,8,["current-page","page-size","total"]),e(H,{modelValue:p(x),"onUpdate:modelValue":r[2]||(r[2]=a=>b(x)?x.value=a:x=a)},{header:t(()=>[le]),default:t(()=>[e(g,{style:{margin:"10px 0px"}},{default:t(()=>[e(n,{span:6},{default:t(()=>[u("名称")]),_:1}),e(n,{span:18},{default:t(()=>[u(y(p(c).skuName),1)]),_:1})]),_:1}),e(g,{style:{margin:"10px 0px"}},{default:t(()=>[e(n,{span:6},{default:t(()=>[u("描述")]),_:1}),e(n,{span:18},{default:t(()=>[u(y(p(c).skuDesc),1)]),_:1})]),_:1}),e(g,{style:{margin:"10px 0px"}},{default:t(()=>[e(n,{span:6},{default:t(()=>[u("价格")]),_:1}),e(n,{span:18},{default:t(()=>[u(y(p(c).price),1)]),_:1})]),_:1}),e(g,{style:{margin:"10px 0px"}},{default:t(()=>[e(n,{span:6},{default:t(()=>[u("平台属性")]),_:1}),e(n,{span:18},{default:t(()=>[(_(!0),C(z,null,I(p(c).skuAttrValueList,a=>(_(),v(D,{style:{margin:"5px"},key:a.id},{default:t(()=>[u(y(a.valueName),1)]),_:2},1024))),128))]),_:1})]),_:1}),e(g,{style:{margin:"10px 0px"}},{default:t(()=>[e(n,{span:6},{default:t(()=>[u("销售属性")]),_:1}),e(n,{span:18},{default:t(()=>[(_(!0),C(z,null,I(p(c).skuSaleAttrValueList,a=>(_(),v(D,{style:{margin:"5px"},key:a.id},{default:t(()=>[u(y(a.saleAttrValueName),1)]),_:2},1024))),128))]),_:1})]),_:1}),e(g,{style:{margin:"10px 0px"}},{default:t(()=>[e(n,{span:6},{default:t(()=>[u("商品图片")]),_:1}),e(n,{span:18},{default:t(()=>[e(T,{interval:4e3,type:"card",height:"200px"},{default:t(()=>[(_(!0),C(z,null,I(p(c).skuImageList,a=>(_(),v(R,{key:a.id},{default:t(()=>[N("img",{src:a.imgUrl,alt:"",style:{width:"100%",height:"100%"}},null,8,se)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),pe=Q(ne,[["__scopeId","data-v-c1335b77"]]);export{pe as default};
